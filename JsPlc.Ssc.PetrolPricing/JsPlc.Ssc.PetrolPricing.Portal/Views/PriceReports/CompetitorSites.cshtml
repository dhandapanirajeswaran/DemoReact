@model JsPlc.Ssc.PetrolPricing.Models.ViewModels.CompetitorSiteViewModel
@{
    ViewBag.Title = "Report - View Competitor Sites By Driving Time in Minutes";

    var reportInformationViewModel = new JsPlc.Ssc.PetrolPricing.Models.ViewModels.ReportInformationViewModel()
    {
        Introduction = "The normalised view displays sites without double counting them if they are near multiple Sainsbury’s sites.<br /> E.G. if a JS site has two ASDA’s within 5 minutes this would count as 1."
    };
}
<div class="row">
    <div class="col-md-8">
        <h1><i class="fa fa-bar-chart"></i> @ViewBag.Title.</h1>
    </div>
    <div class="col-md-4 text-right" style="padding-top: 20px">
        <button type="button" class="btn btn-primary" id="btnExportReport" @(Model == null ? " disabled='disabled'" : "")><i class="fa fa-download"></i> Export to Excel</button>
    </div>
</div>
<hr />
<style>
    .actualdata {
        height: 500px;
        overflow-y: auto;
        overflow-x: hidden;
    }

    .fixed-col-1 {
        width: 130px;
    }

    .alternativerow:nth-child(2n+1) {
        background: #F5F5F5;
    }

    .alternativerow {
        height: 35px;
        border-bottom: 1px solid #b9b2b2;
    }
</style>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    @Html.Partial("_ReportIntroduction", reportInformationViewModel)

    if (Model != null)
    {
    <div class="row">
        <div class="col-md-4">
            <label for="SiteId">Site:</label>&nbsp;
            @if (Model != null)
            {
                @Html.DropDownList("SiteId", new SelectList(Model.Sites, "Id", "SiteName", Model.SiteId), new { @class = "form-control" })
            }
        </div>

        <div class="col-md-1">
            <label>&nbsp;</label>
            <button type="button" class="btn btn-danger btn-block" id="btnResetReport"><i class="fa fa-power-off"></i> Reset</button>
        </div>
    </div>
        }
    }

@if (Model != null && Model.Report.BrandTimes.Any())
{
    <hr style="border-width:3px;" />
    <div class="row" style="font-weight: bold;">
        <div class="col-md-9 text-center" style="margin-left: 200px;">
            Drive time in minutes
        </div>
    </div>

    <div class="row" style="font-weight: bold">
        <div class="divheader">
            <div class="col-md-1 fixed-col-1" style="width:200px;">
                Brand Name
            </div>
            <div class="col-md-1 fixed-col-1">
                0 - 5
            </div>
            <div class="col-md-1 fixed-col-1">
                5 - 10
            </div>
            <div class="col-md-1 fixed-col-1">
                10 - 15
            </div>
            <div class="col-md-1 fixed-col-1">
                15 - 20
            </div>
            <div class="col-md-1 fixed-col-1">
                20 - 25
            </div>
            <div class="col-md-1 fixed-col-1">
                25 - 30
            </div>
            <div class="col-md-1 fixed-col-1">
                &gt; 30
            </div>
        </div>
    </div>
    <hr style="border-width:3px; margin: 0.5px;" />
    <div class="actualdata">

        @foreach (var item in Model.Report.BrandTimes.OrderBy(x => x.BrandName))
        {
            <div class="alternativerow">

                <div class="row">
                    <div class="col-md-1 fixed-col-1" style="width:200px;">
                        @if (item.BrandName.ToUpper() == "SAINSBURYS")
                        {
                            <strong style="color: orange;">@item.BrandName</strong>
                        }
                        else
                        {
                            @item.BrandName
                        }
                    </div>
                    <div class="col-md-1 fixed-col-1">
                        @item.Count0To5
                    </div>
                    <div class="col-md-1 fixed-col-1">
                        @item.Count5To10
                    </div>
                    <div class="col-md-1 fixed-col-1">
                        @item.Count10To15
                    </div>
                    <div class="col-md-1 fixed-col-1">
                        @item.Count15To20
                    </div>
                    <div class="col-md-1 fixed-col-1">
                        @item.Count20To25
                    </div>
                    <div class="col-md-1 fixed-col-1">
                        @item.Count25To30
                    </div>
                    <div class="col-md-1 fixed-col-1">
                        @item.CountMoreThan30
                    </div>

                </div>

            </div>


        }

    </div>
}
else if (Model != null && Model.SiteId > 0)
{
    <div class="alert alert-info" role="alert">Data for <strong>@Model.Report.SiteName</strong> site is not found</div>
} else if (Model == null)
{
    <div class="alert alert-info" role="alert">Sorry, there was no data found</div>
}

@Html.Partial("_BackToReports")

@section scripts {
    <script src="~/Scripts/PriceReports/competitorSites.js"></script>
}
